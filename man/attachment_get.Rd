% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/attachment_get.R
\name{attachment_get}
\alias{attachment_get}
\title{Download attachments and return the local path.}
\usage{
attachment_get(sid, fn, local_dir = "media", separate = FALSE,
  pid = get_default_pid(), fid = get_default_fid(),
  url = get_default_url(), un = get_default_un(),
  pw = get_default_pw(), verbose = FALSE)
}
\arguments{
\item{sid}{One or many ODK submission UUIDs, an MD5 hash.}

\item{fn}{One or many ODK form attachment filenames,
e.g. "1558330537199.jpg".}

\item{local_dir}{The local folder to save the downloaded files to,
default: "media".}

\item{separate}{(logical) Whether to separate locally downloaded files into
a subfolder named after the submission uuid within `local_dir`,
default: FALSE.
The defaults mirror the behaviour of \code{`submission_export`}, which
keeps all attachment files together in a folder `media`.
Enable this option if downloaded files collide on idential names. This can
happen if two data collection devices by chance generate the same filename
for two respective media files, e.g. `DCIM0001.jpg`.}

\item{pid}{The numeric ID of the project, e.g.: 2.
Default: \code{get_default_pid()}.
Set default \code{pid} through \code{ru_setup(pid="...")}.
See \code{vignette("Setup", package = "ruODK")}.}

\item{fid}{The alphanumeric form ID, e.g. "build_Spotlighting-0-8_1559885147".
Default: \code{get_default_fid()}.
Set default \code{fid} through \code{ru_setup(fid="...")}.
See \code{vignette("Setup", package = "ruODK")}.}

\item{url}{The ODK Central base URL without trailing slash.
Default: \code{get_default_url()}.
Set default \code{url} through \code{ru_setup(url="...")}.
See \code{vignette("Setup", package = "ruODK")}.}

\item{un}{The ODK Central username (an email address).
Default: \code{get_default_un()}.
Set default \code{un} through \code{ru_setup(un="...")}.
See \code{vignette("Setup", package = "ruODK")}.}

\item{pw}{The ODK Central password.
Default: \code{get_default_pw()}.
Set default \code{pw} through \code{ru_setup(pw="...")}.
See \code{vignette("Setup", package = "ruODK")}.}

\item{verbose}{Whether to display debug messages or not (default)}
}
\value{
The relative file path for the downloaded attachment(s)
}
\description{
\lifecycle{stable}
}
\details{
This function is vectorised and can handle either one or many
records.
Parameters submission_uuid and attachment_filename accept single or exactly
the same number of multiple values.
The other parameters are automatically repeated.

The media attachments are downloaded into a folder given by `local_dir`:

workdir/media/filename1.jpg

workdir/media/filename2.jpg

workdir/media/filename3.jpg
}
\seealso{
\url{https://odkcentral.docs.apiary.io/#reference/forms-and-submissions/'-form-attachments/downloading-a-form-attachment}

\url{https://odkcentral.docs.apiary.io/#reference/forms-and-submissions/attachments/downloading-an-attachment}

Other odata-api: \code{\link{attachment_url}},
  \code{\link{get_one_attachment}},
  \code{\link{odata_metadata_get}},
  \code{\link{odata_service_get}},
  \code{\link{odata_submission_get}},
  \code{\link{odata_submission_parse}},
  \code{\link{unnest_all}}
}
\concept{odata-api}
