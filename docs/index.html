<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ODK Central OData Client • ruODK</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="ODK Central OData Client">
<meta property="og:description" content="Utilities to access data from ODK Central's API, and to
    transform them into a tidy format. The outcome should be similar to the
    manual download from ODK Central, and the export from ODK Briefcase.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ruODK</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/api.html">Getting data from the API</a>
    </li>
    <li>
      <a href="articles/odata.html">OData</a>
    </li>
    <li>
      <a href="articles/setup.html">Setup</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dbca-wa/ruODK">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="ruodk-odk-central-api-wrapper" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#ruodk-odk-central-api-wrapper" class="anchor"></a>ruODK: ODK Central API wrapper <img src="reference/figures/ruODK.png" align="right" alt="Are you ODK?" width="120">
</h1></div>
<!-- badges: start -->

<p>Especially in these trying times, it is important to ask: “r u ODK?”</p>
<p><a href="https://docs.opendatakit.org/central-intro/">ODK Central</a> an Open Data Kit server alternative like ODK Aggregate. It manages user accounts and permissions, stores form definitions, and allows data collection clients like ODK Collect to connect to it for form download and submission upload.</p>
<p>ODK Central’s API provides access to its data and functionality through both an OData and a RESTful API. It is accompanied by a comprehensive and interactive <a href="https://odkcentral.docs.apiary.io/#reference/odata-endpoints">documentation</a>.</p>
<p>ruODK aims:</p>
<ul>
<li>To wrap all ODK Central API endpoints. This is a work in progress with focus on “getting the data out” first.</li>
<li>To provide working examples of interacting with the ODK Central API.</li>
<li>To provide convenience helpers for the day to day tasks when working with ODK Central data in R.</li>
</ul>
<div id="install" class="section level2">
<h2 class="hasAnchor">
<a href="#install" class="anchor"></a>Install</h2>
<p>You can install ruODK from GitHub with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># install.packages("remotes")</span></a>
<a class="sourceLine" id="cb1-2" title="2">remotes<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/remotes/topics/install_github">install_github</a></span>(<span class="st">"dbca-wa/ruODK"</span>)</a></code></pre></div>
</div>
<div id="odk-central" class="section level2">
<h2 class="hasAnchor">
<a href="#odk-central" class="anchor"></a>ODK Central</h2>
<p>First, we need some data to play with!</p>
<p>The ODK Central <a href="https://docs.opendatakit.org/central-using/">user manual</a> provides up-to-date descriptions of the steps below.</p>
<ul>
<li>
<a href="https://docs.opendatakit.org/central-users/#creating-a-web-user">Create a web user account</a> on an ODK Central instance. Your username will be an email address.</li>
<li>
<a href="https://docs.opendatakit.org/central-projects/">Create a project</a> and give the web user the relevant permissions.</li>
<li>Create a Xform, e.g. using ODK Build, or use the provided example forms.</li>
<li>
<a href="https://docs.opendatakit.org/central-forms/">Publish the form</a> to ODK Central.</li>
<li>Collect some data for this form on ODK Collect and let ODK Collect submit the finalised forms to ODK Central.</li>
<li>
<a href="https://docs.opendatakit.org/central-submissions/#connecting-to-submission-data-over-odata">Get the ODK Central OData service URL</a> for the form.</li>
</ul>
<p>A note on the <a href="https://github.com/dbca-wa/ruODK/tree/master/inst/extdata">included example forms</a>: The <code>.odkbuild</code> versions can be loaded into <a href="https://build.opendatakit.org/">ODK Build</a>, while the <code>.xml</code> versions can be imported into ODK Central.</p>
</div>
<div id="configure-ruodk" class="section level2">
<h2 class="hasAnchor">
<a href="#configure-ruodk" class="anchor"></a>Configure ruODK</h2>
<p>Read <a href="https://dbca-wa.github.io/ruODK/articles/setup.html"><code>vignette("Setup", package = "ruODK")</code></a> for detailed options to configure <code>ruODK</code>.</p>
<p>For a quick start, run the following chunk with your settings:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Sys.setenv">Sys.setenv</a></span>(<span class="dt">ODKC_URL =</span> <span class="st">"https://odkcentral.mydomain.com"</span>)</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Sys.setenv">Sys.setenv</a></span>(<span class="dt">ODKC_UN =</span> <span class="st">"me@mail.com"</span>)</a>
<a class="sourceLine" id="cb2-3" title="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Sys.setenv">Sys.setenv</a></span>(<span class="dt">ODKC_PW =</span> <span class="st">"......."</span>)</a></code></pre></div>
</div>
<div id="use-ruodk" class="section level2">
<h2 class="hasAnchor">
<a href="#use-ruodk" class="anchor"></a>Use ruODK</h2>
<p>ruODK aims to provide the same access to your submissions via ODK Central’s OData service endpoints as MS Excel, MS PowerBI and Tableau.</p>
<p>At the end of this step, we want to achieve the same outcome as the <a href="https://docs.opendatakit.org/central-submissions/#downloading-submissions-as-csvs">manual download to CSV</a>.</p>
<p>A quick example:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(ruODK)</a>
<a class="sourceLine" id="cb3-2" title="2"></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="co"># ODK Central credentials</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="cf">if</span> (<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/files">file.exists</a></span>(<span class="st">"~/.Rprofile"</span>)) <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/source">source</a></span>(<span class="st">"~/.Rprofile"</span>)</a>
<a class="sourceLine" id="cb3-5" title="5"><span class="co"># .RProfile sets ODKC_{URL, UN, PW}</span></a>
<a class="sourceLine" id="cb3-6" title="6"></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co"># ODK Central OData service URL</span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="co"># "https://sandbox.central.opendatakit.org/v1/projects/14/forms/build_Flora-Quadrat-0-2_1558575936.svc"</span></a>
<a class="sourceLine" id="cb3-9" title="9"></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="co"># Download from ODK Central</span></a>
<a class="sourceLine" id="cb3-11" title="11">proj &lt;-<span class="st"> </span><span class="kw"><a href="reference/project_list.html">project_list</a></span>()</a>
<a class="sourceLine" id="cb3-12" title="12">meta &lt;-<span class="st"> </span>ruODK<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/ruODK/topics/get_metadata">get_metadata</a></span>(</a>
<a class="sourceLine" id="cb3-13" title="13">  <span class="dt">pid =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb3-14" title="14">  <span class="dt">fid =</span> <span class="st">"build_Turtle-Sighting-0-1_1559790020"</span></a>
<a class="sourceLine" id="cb3-15" title="15">)</a>
<a class="sourceLine" id="cb3-16" title="16">data &lt;-<span class="st"> </span>ruODK<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/ruODK/topics/get_submissions">get_submissions</a></span>(</a>
<a class="sourceLine" id="cb3-17" title="17">  <span class="dt">pid =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb3-18" title="18">  <span class="dt">fid =</span> <span class="st">"build_Turtle-Sighting-0-1_1559790020"</span></a>
<a class="sourceLine" id="cb3-19" title="19">) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-20" title="20"><span class="st">  </span>ruODK<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/ruODK/topics/parse_submissions">parse_submissions</a></span>()</a></code></pre></div>
<p>A more detailed walk-through with some data visualisation examples is available in the <a href="https://dbca-wa.github.io/ruODK/articles/odata.html"><code><a href="articles/odata.html">vignette("odata", package="ruODK")</a></code></a>.</p>
</div>
<div id="contribute" class="section level2">
<h2 class="hasAnchor">
<a href="#contribute" class="anchor"></a>Contribute</h2>
<p>Contributions through <a href="https://github.com/dbca-wa/ruODK/issues">issues</a> and PRs are welcome!</p>
</div>
<div id="release" class="section level2">
<h2 class="hasAnchor">
<a href="#release" class="anchor"></a>Release</h2>
<p>These steps prepare a new <code>ruODK</code> release.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">styler<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/styler/topics/style_pkg">style_pkg</a></span>()</a>
<a class="sourceLine" id="cb4-2" title="2">goodpractice<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/goodpractice/topics/gp">goodpractice</a></span>(<span class="dt">quiet =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb4-3" title="3">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/test">test</a></span>()</a>
<a class="sourceLine" id="cb4-4" title="4">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/document">document</a></span>(<span class="dt">roclets =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"rd"</span>, <span class="st">"collate"</span>, <span class="st">"namespace"</span>))</a>
<a class="sourceLine" id="cb4-5" title="5">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/check">check</a></span>()</a>
<a class="sourceLine" id="cb4-6" title="6">pkgdown<span class="op">::</span><span class="kw"><a href="https://pkgdown.r-lib.org/reference/build_site.html">build_site</a></span>()</a></code></pre></div>
</div>
<div id="acknowledgements" class="section level2">
<h2 class="hasAnchor">
<a href="#acknowledgements" class="anchor"></a>Acknowledgements</h2>
<p>The Department of Biodiversity, Conservation and Attractions (DBCA) respectfully acknowledges Aboriginal people as the traditional owners of the lands and waters it manages.</p>
<p>One of the Department’s core missions is to conserve and protect the value of the land to the culture and heritage of Aboriginal people.</p>
<p>This software was created both as a contribution to the ODK ecosystem and for the conservation of the biodiversity of Western Australia, and in doing so, caring for country.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/dbca-wa/ruODK">https://​github.com/​dbca-wa/​ruODK</a>
</li>
<li>Report a bug at <br><a href="https://github.com/dbca-wa/ruODK/issues">https://​github.com/​dbca-wa/​ruODK/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Florian Mayer <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-4269-4242" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/dbca-wa/ruODK/issues"><img src="https://img.shields.io/github/issues/dbca-wa/ruodk.svg?style=popout" alt="GitHub issues"></a></li>
<li><a href="https://travis-ci.org/dbca-wa/ruODK"><img src="https://travis-ci.org/dbca-wa/ruODK.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://ci.appveyor.com/project/dbca-wa/ruODK"><img src="https://ci.appveyor.com/api/projects/status/github/dbca-wa/ruODK?branch=master&amp;svg=true" alt="AppVeyor build status"></a></li>
<li><a href="https://codecov.io/github/dbca-wa/ruODK?branch=master"><img src="https://codecov.io/gh/dbca-wa/ruODK/branch/master/graph/badge.svg" alt="Coverage status"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Florian Mayer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
